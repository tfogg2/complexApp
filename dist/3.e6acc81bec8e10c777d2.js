(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{144:function(e,a){},230:function(e,a,t){"use strict";t.r(a);var s=t(0),c=t.n(s),r=(t(5),t(8)),n=(t(85),t(13)),l=t(14),o=t(15),u=t(117),m=t.n(u);a.default=function(){const e=Object(s.useRef)(null),a=Object(s.useContext)(n.a),t=Object(s.useContext)(l.a),u=Object(s.useRef)(null),i=Object(s.useRef)(null),[h,f]=Object(o.a)({fieldValue:"",chatMessages:[]});return Object(s.useEffect)(()=>(e.current=m()("http://localhost:8080"),e.current.on("chatFromServer",e=>{f(a=>{a.chatMessages.push(e)})}),()=>e.current.disconnect()),[]),Object(s.useEffect)(()=>{i.current.scrollTop=i.current.scrollHeight,h.chatMessages.length&&!a.isChatOpen&&t({type:"incrementUnreadChatCount"})},[h.chatMessages]),Object(s.useEffect)(()=>{a.isChatOpen&&(u.current.focus(),t({type:"clearUnreadChatCount"}))},[a.isChatOpen]),c.a.createElement("div",{id:"chat-wrapper",className:"chat-wrapper shadow border-top border-left border-right "+(a.isChatOpen?"chat-wrapper--is-visible":"")},c.a.createElement("div",{className:"chat-title-bar bg-primary"},"Chat",c.a.createElement("span",{onClick:function(e){e.preventDefault(),t({type:"closeChat"})},className:"chat-title-bar-close"},c.a.createElement("i",{className:"fas fa-times-circle"}))),c.a.createElement("div",{id:"chat",className:"chat-log",ref:i},h.chatMessages.map((e,t)=>e.username==a.user.username?c.a.createElement("div",{key:t,className:"chat-self"},c.a.createElement("div",{className:"chat-message"},c.a.createElement("div",{className:"chat-message-inner"},e.message)),c.a.createElement("img",{className:"chat-avatar avatar-tiny",src:e.avatar})):c.a.createElement("div",{key:t,className:"chat-other"},c.a.createElement(r.b,{to:"/profile/"+e.username},c.a.createElement("img",{className:"avatar-tiny",src:e.avatar})),c.a.createElement("div",{className:"chat-message"},c.a.createElement("div",{className:"chat-message-inner"},c.a.createElement(r.b,{to:"/profile/"+e.username},c.a.createElement("strong",null,e.username,": "))," ",e.message))))),c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.current.emit("chatFromBrowser",{message:h.fieldValue,token:a.user.token}),f(e=>{e.chatMessages.push({message:e.fieldValue,username:a.user.username,avatar:a.user.avatar}),e.fieldValue=""})},id:"chatForm",className:"chat-form border-top"},c.a.createElement("input",{value:h.fieldValue,onChange:function(e){const a=e.target.value;f(e=>{e.fieldValue=a})},type:"text",ref:u,className:"chat-field",id:"chatField",placeholder:"Type a messageâ€¦",autoComplete:"off"})))}},85:function(e,a,t){"use strict";var s=t(0),c=t.n(s),r=(t(21),t(4)),n=t(20),l=t(5),o=t.n(l),u=t(26);a.a=function(e){const{username:a}=Object(r.f)(),[t,l]=Object(s.useState)(!0),[m,i]=Object(s.useState)([]);return Object(s.useEffect)(()=>{const e=o.a.CancelToken.source();return async function(){try{const t=await o.a.get(`/profile/${a}/posts`,{cancelToken:e.token});i(t.data),l(!1)}catch(e){console.log("There was an error.")}}(),()=>{e.cancel()}},[a]),t?c.a.createElement(n.a,null):c.a.createElement("div",{className:"list-group"},m.map(e=>c.a.createElement(u.a,{noAuthor:!0,post:e,key:e._id})))}}}]);